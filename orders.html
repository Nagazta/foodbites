<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Orders - Flavour Food Bites</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #FF6B35;
      --primary-dark: #E55A2B;
      --secondary-color: #2C3E50;
      --accent-color: #3498DB;
      --success-color: #27AE60;
      --warning-color: #F39C12;
      --danger-color: #E74C3C;
      --surface: #FFFFFF;
      --background: #0F0F23;
      --background-light: #1a1a3a;
      --text-primary: #FFFFFF;
      --text-secondary: #B8BCC8;
      --text-muted: #7A7D85;
      --glass-bg: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.2);
      --shadow-glow: 0 0 40px rgba(255, 107, 53, 0.3);
      --gradient-primary: linear-gradient(135deg, #FF6B35 0%, #E55A2B 50%, #FF8A50 100%);
      --gradient-secondary: linear-gradient(135deg, #3498DB 0%, #2980B9 100%);
      --gradient-success: linear-gradient(135deg, #27AE60 0%, #229954 100%);
      --gradient-warning: linear-gradient(135deg, #F39C12 0%, #E67E22 100%);
      --gradient-danger: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%);
      --gradient-glass: linear-gradient(145deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Animated Background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(255, 107, 53, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(52, 152, 219, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(39, 174, 96, 0.1) 0%, transparent 50%),
        linear-gradient(135deg, #0F0F23 0%, #1a1a3a 100%);
      z-index: -2;
      animation: backgroundPulse 12s ease-in-out infinite;
    }

    @keyframes backgroundPulse {
      0%, 100% { filter: brightness(1) saturate(1); }
      50% { filter: brightness(1.1) saturate(1.2); }
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(15, 15, 35, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    header.scrolled {
      background: rgba(15, 15, 35, 0.95);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo {
      width: 60px;
      height: 60px;
      background: var(--gradient-primary);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.8rem;
      font-weight: bold;
      box-shadow: var(--shadow-glow);
      transition: all 0.3s ease;
      animation: logoFloat 3s ease-in-out infinite;
    }

    .logo:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 50px rgba(255, 107, 53, 0.5);
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }

    .brand-name {
      font-size: 1.8rem;
      font-weight: 800;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -1px;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-secondary);
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      transition: all 0.3s ease;
      position: relative;
      backdrop-filter: blur(10px);
    }

    .nav-links a::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-glass);
      border-radius: 12px;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .nav-links a:hover::before,
    .nav-links a.active::before {
      opacity: 1;
    }

    .nav-links a:hover,
    .nav-links a.active {
      color: var(--text-primary);
      transform: translateY(-2px);
    }

    .nav-links a span {
      position: relative;
      z-index: 1;
    }

    /* Main Content */
    .orders-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 120px 2rem 4rem;
    }

    /* Orders Header */
    .orders-header {
      text-align: center;
      margin-bottom: 3rem;
      animation: slideInDown 0.8s ease-out;
    }

    .orders-title {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 900;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.5rem;
      letter-spacing: -2px;
    }

    .orders-subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
    }

    /* Filter Tabs */
    .filter-tabs {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 3rem;
      animation: slideInUp 0.8s ease-out;
    }

    .filter-tab {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      color: var(--text-secondary);
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      backdrop-filter: blur(20px);
    }

    .filter-tab.active,
    .filter-tab:hover {
      background: var(--gradient-primary);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
    }

    /* Orders List */
    .orders-list {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .order-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 2rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      animation: slideInUp 0.8s ease-out;
    }

    .order-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--gradient-primary);
      transform: scaleY(0);
      transition: transform 0.3s ease;
    }

    .order-card:hover::before {
      transform: scaleY(1);
    }

    .order-card:hover {
      transform: translateY(-5px);
      border-color: var(--primary-color);
      box-shadow: 0 15px 40px rgba(255, 107, 53, 0.2);
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .order-info h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .order-date {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .order-status {
      padding: 0.5rem 1rem;
      border-radius: 50px;
      font-weight: 600;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .status-pending {
      background: var(--gradient-warning);
      color: white;
    }

    .status-preparing {
      background: var(--gradient-secondary);
      color: white;
    }

    .status-delivering {
      background: var(--gradient-primary);
      color: white;
    }

    .status-delivered {
      background: var(--gradient-success);
      color: white;
    }

    .status-cancelled {
      background: var(--gradient-danger);
      color: white;
    }

    .order-items {
      margin-bottom: 1.5rem;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--glass-border);
    }

    .order-item:last-child {
      border-bottom: none;
    }

    .item-details {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .item-icon {
      width: 40px;
      height: 40px;
      background: var(--background-light);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary-color);
      font-size: 1.2rem;
    }

    .item-name {
      font-weight: 600;
      color: var(--text-primary);
    }

    .item-quantity {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .item-price {
      font-weight: 700;
      color: var(--primary-color);
    }

    .order-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 1rem;
      border-top: 2px solid var(--glass-border);
      font-size: 1.25rem;
      font-weight: 800;
    }

    .total-label {
      color: var(--text-secondary);
    }

    .total-amount {
      color: var(--primary-color);
    }

    .order-actions {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .action-btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: white;
    }

    .btn-secondary {
      background: var(--glass-bg);
      color: var(--text-secondary);
      border: 1px solid var(--glass-border);
    }

    .btn-success {
      background: var(--gradient-success);
      color: white;
    }

    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .btn-primary:hover {
      box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
    }

    .btn-success:hover {
      box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
    }

    /* Empty State */
    .empty-orders {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-secondary);
      animation: fadeInUp 0.8s ease-out;
    }

    .empty-icon {
      font-size: 5rem;
      color: var(--text-muted);
      margin-bottom: 2rem;
      animation: emptyFloat 3s ease-in-out infinite;
    }

    @keyframes emptyFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }

    .empty-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 1rem;
    }

    .empty-description {
      font-size: 1.1rem;
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .start-ordering {
      background: var(--gradient-primary);
      color: white;
      text-decoration: none;
      padding: 1.25rem 2.5rem;
      border-radius: 50px;
      font-weight: 700;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.1rem;
    }

    .start-ordering:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(255, 107, 53, 0.4);
    }

    /* Order Details Modal */
    .order-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .order-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--glass-bg);
      backdrop-filter: blur(30px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 3rem;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      transform: scale(0.8) translateY(50px);
      transition: all 0.3s ease;
    }

    .order-modal.show .modal-content {
      transform: scale(1) translateY(0);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--glass-border);
    }

    .modal-title {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--text-primary);
    }

    .close-modal {
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .close-modal:hover {
      color: var(--text-primary);
      background: var(--glass-bg);
    }

    /* Footer */
    footer {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(20px);
      text-align: center;
      padding: 3rem 2rem;
      border-top: 1px solid var(--glass-border);
      margin-top: 4rem;
    }

    /* Animations */
    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
      }

      .nav-links {
        gap: 1rem;
      }

      .orders-container {
        padding: 100px 1rem 2rem;
      }

      .filter-tabs {
        flex-wrap: wrap;
      }

      .order-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .order-actions {
        justify-content: center;
      }

      .modal-content {
        margin: 1rem;
        padding: 2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <nav class="navbar">
      <div class="logo-section">
        <div class="logo">
          <i class="fas fa-utensils"></i>
        </div>
        <span class="brand-name">Flavour Food Bites</span>
      </div>
      <ul class="nav-links">
        <li><a href="index.html"><span>Home</span></a></li>
        <li><a href="menu.html"><span>Menu</span></a></li>
        <li><a href="lcart.html"><span>Cart</span></a></li>
        <li><a href="orders.html"class="active"><span>Orders</span></a></li>
        <li><a href="reviews.html"><span>Reviews</span></a></li>
        <li><a href="customerService.html"><span>Customer Service</span></a></li>
        <li><a href="login.html"><span>Logout</span></a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="orders-container">
    <!-- Orders Header -->
    <div class="orders-header">
      <h1 class="orders-title">My Orders</h1>
      <p class="orders-subtitle">Track your delicious journey from kitchen to doorstep</p>
    </div>

    <!-- Filter Tabs -->
    <div class="filter-tabs">
      <div class="filter-tab active" data-filter="all">All Orders</div>
      <div class="filter-tab" data-filter="pending">Pending</div>
      <div class="filter-tab" data-filter="preparing">Preparing</div>
      <div class="filter-tab" data-filter="delivering">Delivering</div>
      <div class="filter-tab" data-filter="delivered">Delivered</div>
    </div>

    <!-- Orders List -->
    <div class="orders-list" id="ordersList">
      <!-- Orders will be loaded here -->
    </div>
  </main>

  <!-- Order Details Modal -->
  <div class="order-modal" id="orderModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Order Details</h2>
        <button class="close-modal" id="closeModal">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Order details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Flavour Food Bites. All Rights Reserved. Made with ❤️ for food lovers.</p>
  </footer>

  <!-- JavaScript -->
  <script>
    class OrderManager {
      constructor() {
        this.orders = JSON.parse(localStorage.getItem('orders') || '[]');
        this.currentFilter = 'all';
        
        this.init();
      }

      init() {
        this.renderOrders();
        this.bindEvents();
        this.handleScrollEffect();
        this.addDemoOrders(); // For demonstration
      }

      addDemoOrders() {
        // Add demo orders if none exist for better presentation
        if (this.orders.length === 0) {
          const demoOrders = [
            {
              id: 'ORD1735123456789',
              items: [
                { id: 1, name: 'Classic Burger', price: 150, quantity: 2, icon: 'fa-hamburger' },
                { id: 2, name: 'French Fries', price: 80, quantity: 1, icon: 'fa-fries' }
              ],
              subtotal: 380,
              deliveryFee: 50,
              tax: 45.60,
              total: 475.60,
              paymentMethod: 'cod',
              status: 'delivered',
              date: '2025-01-15T14:30:00.000Z'
            },
            {
              id: 'ORD1735123456790',
              items: [
                { id: 3, name: 'Margherita Pizza', price: 250, quantity: 1, icon: 'fa-pizza-slice' },
                { id: 4, name: 'Garlic Bread', price: 120, quantity: 2, icon: 'fa-bread-slice' }
              ],
              subtotal: 490,
              deliveryFee: 0,
              tax: 58.80,
              total: 548.80,
              paymentMethod: 'gcash',
              status: 'preparing',
              date: '2025-01-20T18:15:00.000Z'
            },
            {
              id: 'ORD1735123456791',
              items: [
                { id: 5, name: 'Chicken Wings', price: 180, quantity: 1, icon: 'fa-drumstick-bite' },
                { id: 6, name: 'Caesar Salad', price: 140, quantity: 1, icon: 'fa-leaf' }
              ],
              subtotal: 320,
              deliveryFee: 50,
              tax: 38.40,
              total: 408.40,
              paymentMethod: 'card',
              status: 'delivering',
              date: '2025-01-22T12:45:00.000Z'
            }
          ];
          
          this.orders = demoOrders;
          localStorage.setItem('orders', JSON.stringify(this.orders));
        }
      }

      bindEvents() {
        // Filter tabs
        document.querySelectorAll('.filter-tab').forEach(tab => {
          tab.addEventListener('click', (e) => {
            document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
            e.target.classList.add('active');
            this.currentFilter = e.target.dataset.filter;
            this.renderOrders();
          });
        });

        // Modal events
        document.getElementById('closeModal').addEventListener('click', () => {
          this.hideModal();
        });

        document.getElementById('orderModal').addEventListener('click', (e) => {
          if (e.target === e.currentTarget) {
            this.hideModal();
          }
        });

        // Keyboard events
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            this.hideModal();
          }
        });
      }

      handleScrollEffect() {
        const header = document.querySelector('header');
        
        window.addEventListener('scroll', () => {
          if (window.scrollY > 100) {
            header.classList.add('scrolled');
          } else {
            header.classList.remove('scrolled');
          }
        });
      }

      renderOrders() {
        const ordersList = document.getElementById('ordersList');
        let filteredOrders = this.orders;

        // Apply filter
        if (this.currentFilter !== 'all') {
          filteredOrders = this.orders.filter(order => order.status === this.currentFilter);
        }

        // Sort by date (newest first)
        filteredOrders.sort((a, b) => new Date(b.date) - new Date(a.date));

        if (filteredOrders.length === 0) {
          ordersList.innerHTML = this.renderEmptyState();
          return;
        }

        ordersList.innerHTML = filteredOrders.map(order => this.renderOrderCard(order)).join('');
        
        // Bind order-specific events
        this.bindOrderEvents();
        this.animateOrders();
      }

      renderOrderCard(order) {
        const date = new Date(order.date);
        const formattedDate = date.toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'short',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });

        const statusIcons = {
          pending: 'fa-clock',
          preparing: 'fa-utensils',
          delivering: 'fa-shipping-fast',
          delivered: 'fa-check-circle',
          cancelled: 'fa-times-circle'
        };

        return `
          <div class="order-card" data-status="${order.status}">
            <div class="order-header">
              <div class="order-info">
                <h3>
                  <i class="fas ${statusIcons[order.status]}"></i>
                  Order #${order.id.slice(-6)}
                </h3>
                <div class="order-date">${formattedDate}</div>
              </div>
              <div class="order-status status-${order.status}">
                ${order.status}
              </div>
            </div>

            <div class="order-items">
              ${order.items.map(item => `
                <div class="order-item">
                  <div class="item-details">
                    <div class="item-icon">
                      <i class="fas ${item.icon || 'fa-utensils'}"></i>
                    </div>
                    <div>
                      <div class="item-name">${item.name}</div>
                      <div class="item-quantity">Qty: ${item.quantity}</div>
                    </div>
                  </div>
                  <div class="item-price">₱${(item.price * item.quantity).toFixed(2)}</div>
                </div>
              `).join('')}
            </div>

            <div class="order-total">
              <span class="total-label">Total Amount:</span>
              <span class="total-amount">₱${order.total.toFixed(2)}</span>
            </div>

            <div class="order-actions">
              <button class="action-btn btn-primary" onclick="orderManager.showOrderDetails('${order.id}')">
                <i class="fas fa-eye"></i>
                View Details
              </button>
              ${this.getOrderActions(order)}
            </div>
          </div>
        `;
      }

      getOrderActions(order) {
        switch (order.status) {
          case 'pending':
            return `
              <button class="action-btn btn-secondary" onclick="orderManager.cancelOrder('${order.id}')">
                <i class="fas fa-times"></i>
                Cancel Order
              </button>
            `;
          case 'delivered':
            return `
              <button class="action-btn btn-success" onclick="orderManager.reorder('${order.id}')">
                <i class="fas fa-redo"></i>
                Order Again
              </button>
              <button class="action-btn btn-secondary" onclick="orderManager.rateOrder('${order.id}')">
                <i class="fas fa-star"></i>
                Rate Order
              </button>
            `;
          case 'preparing':
          case 'delivering':
            return `
              <button class="action-btn btn-secondary" onclick="orderManager.trackOrder('${order.id}')">
                <i class="fas fa-map-marker-alt"></i>
                Track Order
              </button>
            `;
          default:
            return '';
        }
      }

      renderEmptyState() {
        const emptyMessages = {
          all: {
            title: "No orders yet",
            description: "You haven't placed any orders yet. Browse our delicious menu and place your first order!",
            icon: "fa-shopping-bag"
          },
          pending: {
            title: "No pending orders",
            description: "You don't have any pending orders at the moment.",
            icon: "fa-clock"
          },
          preparing: {
            title: "No orders being prepared",
            description: "No orders are currently being prepared.",
            icon: "fa-utensils"
          },
          delivering: {
            title: "No orders being delivered",
            description: "No orders are currently out for delivery.",
            icon: "fa-shipping-fast"
          },
          delivered: {
            title: "No delivered orders",
            description: "You don't have any delivered orders yet.",
            icon: "fa-check-circle"
          }
        };

        const message = emptyMessages[this.currentFilter] || emptyMessages.all;

        return `
          <div class="empty-orders">
            <div class="empty-icon">
              <i class="fas ${message.icon}"></i>
            </div>
            <h3 class="empty-title">${message.title}</h3>
            <p class="empty-description">${message.description}</p>
            ${this.currentFilter === 'all' ? `
              <a href="menu.html" class="start-ordering">
                <i class="fas fa-utensils"></i>
                Browse Menu
              </a>
            ` : `
              <button class="start-ordering" onclick="orderManager.showAllOrders()">
                <i class="fas fa-list"></i>
                View All Orders
              </button>
            `}
          </div>
        `;
      }

      bindOrderEvents() {
        // Events are bound via onclick attributes in the HTML
        // This method can be used for additional event binding if needed
      }

      animateOrders() {
        const orderCards = document.querySelectorAll('.order-card');
        orderCards.forEach((card, index) => {
          card.style.animationDelay = `${index * 0.1}s`;
          card.style.animation = 'slideInUp 0.6s ease-out forwards';
        });
      }

      showOrderDetails(orderId) {
        const order = this.orders.find(o => o.id === orderId);
        if (!order) return;

        const modal = document.getElementById('orderModal');
        const modalBody = document.getElementById('modalBody');

        const date = new Date(order.date);
        const formattedDate = date.toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });

        modalBody.innerHTML = `
          <div style="margin-bottom: 2rem;">
            <h3 style="color: var(--text-primary); margin-bottom: 0.5rem;">Order #${order.id}</h3>
            <p style="color: var(--text-secondary);">Placed on ${formattedDate}</p>
            <div class="order-status status-${order.status}" style="display: inline-block; margin-top: 1rem;">
              ${order.status}
            </div>
          </div>

          <div style="margin-bottom: 2rem;">
            <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Items Ordered:</h4>
            ${order.items.map(item => `
              <div class="order-item">
                <div class="item-details">
                  <div class="item-icon">
                    <i class="fas ${item.icon || 'fa-utensils'}"></i>
                  </div>
                  <div>
                    <div class="item-name">${item.name}</div>
                    <div class="item-quantity">Quantity: ${item.quantity}</div>
                  </div>
                </div>
                <div class="item-price">₱${(item.price * item.quantity).toFixed(2)}</div>
              </div>
            `).join('')}
          </div>

          <div style="margin-bottom: 2rem;">
            <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Order Summary:</h4>
            <div class="order-item">
              <span>Subtotal</span>
              <span>₱${order.subtotal.toFixed(2)}</span>
            </div>
            <div class="order-item">
              <span>Delivery Fee</span>
              <span>${order.deliveryFee === 0 ? 'FREE' : '₱' + order.deliveryFee.toFixed(2)}</span>
            </div>
            <div class="order-item">
              <span>Tax (12%)</span>
              <span>₱${order.tax.toFixed(2)}</span>
            </div>
            <div class="order-total">
              <span class="total-label">Total</span>
              <span class="total-amount">₱${order.total.toFixed(2)}</span>
            </div>
          </div>

          <div>
            <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Payment Information:</h4>
            <p style="color: var(--text-secondary);">
              Payment Method: ${this.getPaymentMethodName(order.paymentMethod)}
            </p>
          </div>
        `;

        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
      }

      hideModal() {
        const modal = document.getElementById('orderModal');
        modal.classList.remove('show');
        document.body.style.overflow = '';
      }

      getPaymentMethodName(method) {
        const methods = {
          cod: 'Cash on Delivery',
          gcash: 'GCash',
          card: 'Credit/Debit Card'
        };
        return methods[method] || method;
      }

      cancelOrder(orderId) {
        const order = this.orders.find(o => o.id === orderId);
        if (!order || order.status !== 'pending') return;

        if (confirm('Are you sure you want to cancel this order?')) {
          order.status = 'cancelled';
          this.saveOrders();
          this.renderOrders();
          this.showNotification('Order cancelled successfully', 'info');
        }
      }

      reorder(orderId) {
        const order = this.orders.find(o => o.id === orderId);
        if (!order) return;

        // Add items to cart
        let cart = JSON.parse(localStorage.getItem('cart') || '[]');
        
        order.items.forEach(item => {
          const existingItem = cart.find(cartItem => cartItem.id === item.id);
          if (existingItem) {
            existingItem.quantity += item.quantity;
          } else {
            cart.push({
              id: item.id,
              name: item.name,
              price: item.price,
              quantity: item.quantity
            });
          }
        });

        localStorage.setItem('cart', JSON.stringify(cart));
        this.showNotification('Items added to cart successfully!', 'success');
        
        // Optionally redirect to cart
        setTimeout(() => {
          window.location.href = 'cart.html';
        }, 1500);
      }

      rateOrder(orderId) {
        // This would typically open a rating modal
        this.showNotification('Rating feature coming soon!', 'info');
      }

      trackOrder(orderId) {
        // This would typically show tracking information
        this.showNotification('Order tracking feature coming soon!', 'info');
      }

      showAllOrders() {
        document.querySelector('[data-filter="all"]').click();
      }

      saveOrders() {
        localStorage.setItem('orders', JSON.stringify(this.orders));
      }

      showNotification(message, type) {
        const notification = document.createElement('div');
        const colors = {
          success: 'var(--gradient-success)',
          error: 'var(--gradient-danger)',
          info: 'var(--gradient-secondary)',
          warning: 'var(--gradient-warning)'
        };

        notification.innerHTML = `
          <div style="
            position: fixed;
            top: 100px;
            right: 20px;
            background: ${colors[type]};
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            animation: slideInRight 0.3s ease-out;
            max-width: 300px;
          ">
            ${message}
          </div>
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = 'slideOutRight 0.3s ease-out forwards';
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }
    }

    // Initialize order manager
    let orderManager;

    document.addEventListener('DOMContentLoaded', () => {
      orderManager = new OrderManager();

      // Add CSS for additional animations
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes slideOutRight {
          from {
            opacity: 1;
            transform: translateX(0);
          }
          to {
            opacity: 0;
            transform: translateX(100%);
          }
        }

        .order-card {
          opacity: 0;
          transform: translateY(30px);
        }

        .order-card.animate-in {
          animation: slideInUp 0.6s ease-out forwards;
        }

        /* Custom scrollbar for modal */
        .modal-content::-webkit-scrollbar {
          width: 6px;
        }

        .modal-content::-webkit-scrollbar-track {
          background: var(--background-light);
          border-radius: 3px;
        }

        .modal-content::-webkit-scrollbar-thumb {
          background: var(--primary-color);
          border-radius: 3px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
          background: var(--primary-dark);
        }
      `;
      document.head.appendChild(style);
    });

    // Handle real-time order updates (simulation)
    function simulateOrderUpdates() {
      setInterval(() => {
        const preparingOrders = orderManager.orders.filter(order => order.status === 'preparing');
        const deliveringOrders = orderManager.orders.filter(order => order.status === 'delivering');

        // Randomly progress some orders
        if (Math.random() > 0.8) {
          if (preparingOrders.length > 0 && Math.random() > 0.5) {
            const order = preparingOrders[Math.floor(Math.random() * preparingOrders.length)];
            order.status = 'delivering';
            orderManager.saveOrders();
            if (orderManager.currentFilter === 'all' || orderManager.currentFilter === 'delivering' || orderManager.currentFilter === 'preparing') {
              orderManager.renderOrders();
              orderManager.showNotification(`Order #${order.id.slice(-6)} is now being delivered!`, 'info');
            }
          }
          
          if (deliveringOrders.length > 0 && Math.random() > 0.7) {
            const order = deliveringOrders[Math.floor(Math.random() * deliveringOrders.length)];
            order.status = 'delivered';
            orderManager.saveOrders();
            if (orderManager.currentFilter === 'all' || orderManager.currentFilter === 'delivered' || orderManager.currentFilter === 'delivering') {
              orderManager.renderOrders();
              orderManager.showNotification(`Order #${order.id.slice(-6)} has been delivered!`, 'success');
            }
          }
        }
      }, 30000); // Check every 30 seconds
    }

    // Start order update simulation
    setTimeout(simulateOrderUpdates, 5000);
  </script>
</body>
</html>